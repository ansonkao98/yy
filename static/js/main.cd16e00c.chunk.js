(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),i=a(4),u=a(10),o=a(47),l=(a(64),a(3)),s=a(8),d=a.n(s),h=a(24),m=a(6),p=a.n(m);function b(e){e||(e=window.location.href);var t=e.indexOf("?"),a=e.indexOf("#");if(-1===a&&-1===t)return{};-1===a&&(a=e.length);var n=-1===t||a===t+1?e.substring(a):e.substring(t+1,a),r={};return n.split("&").forEach(function(e){if(e){var t=(e=e.split("+").join(" ")).indexOf("="),a=t>-1?e.substr(0,t):e,n=t>-1?decodeURIComponent(e.substr(t+1)):"",c=a.indexOf("[");if(-1===c)r[decodeURIComponent(a)]=n;else{var i=a.indexOf("]",c),u=decodeURIComponent(a.substring(c+1,i));a=decodeURIComponent(a.substring(0,c)),r[a]||(r[a]=[]),u?r[a][u]=n:r[a].push(n)}}}),r}var f=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)?{"x-youtube-client-name":"1","x-youtube-client-version":"2.20190823.03.00"}:{"User-Agent":"Mozilla/5.0","x-youtube-client-name":"1","x-youtube-client-version":"2.20190823.03.00"},g=function(e){return p()({method:"GET",url:"https://your-data.herokuapp.com/yt",params:e})},E=function(e){return function(){var t=Object(h.a)(d.a.mark(function t(a){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"CREATE_REQUEST"}),t.prev=1,t.next=4,g(e);case 4:n=t.sent,console.log(JSON.stringify(n.data.map(function(e){return e.accessibilityDataLabel}))),n.data.sort(function(e,t){return t.publishedTime-e.publishedTime}),a({type:"DATA_SAVE",data:n,receivedAt:Date.now()}),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:case"end":return t.stop()}},t,this,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()},v=function(e,t){return function(a){a({type:"DATA_REQUEST"}),function(e){return p()({method:"GET",url:"https://me-cors.herokuapp.com/https://www.youtube.com/channel/".concat(e,"/videos?pbj=1"),headers:f})}(e).then(function(n){a({type:"CREATE_REQUEST"}),p()({method:"POST",url:"https://me-cors.herokuapp.com/https://script.google.com/macros/s/AKfycbyZhZbdqsMYFA5_u_I1DzjpZphF4WlKZLmfhmEAZ56offNOGXU/exec",params:{tag:t},data:{name:n.data[1].response.metadata.channelMetadataRenderer.title,id:e}}).then(function(e){a({type:"CREATE_RECEIVE"})}),a({type:"DATA_RECEIVE",data:{json:n}.json,receivedAt:Date.now()})})}},y=function(e){return function(t){var a=b();t(E(e||a)),t({type:"CHANGE_TAG",tagData:e||a})}},T=function(e){return function(t){var a=b(),n=e||a;n.u="T",t(E(n)),t({type:"CHANGE_TAG",tagData:e||a})}},C=function(e,t){return function(a){return a(v(e,t))}},A=function(){return function(e){return e({type:"CLEAR_DATA"})}},S=function(e,t,a){return e.match(t)?!1===a?e.match(t)[0]:parseInt(e.match(t)[0]):0},R=function(e,t){var a=S(e,/\d+(?= \u5e74)/),n=S(e,/\d+(?= \u500b\u6708)/),r=S(e,/\d+(?= \u9031)/),c=S(e,/\d+(?= \u5929)/),i=S(e,/\d+(?= \u5c0f\u6642)/),u=S(e,/\d+(?= \u5206)/),o=S(e,/\d+(?= \u79d2)/);return"youtuber"===t&&(a||n>2)?null:+new Date-1e3*(60*(60*(24*(365*a+30*n+7*r+c)+i)+u)+o)},O=function(e){var t=e.o,a=e.data,n=e.next,r=e.tag,c={title:a.data.data[1].response.metadata.channelMetadataRenderer.title,externalId:a.data.data[1].response.metadata.channelMetadataRenderer.externalId},i=function(e){var t=e.data,a=e.tag;return t.list.map(function(e){var n=e.gridVideoRenderer;return{author:t.title,authorId:t.externalId,title:n.title.simpleText,videoId:n.videoId,img:n.thumbnail.thumbnails[0].url,viewCountText:S(n.viewCountText&&n.viewCountText.simpleText||"",/[\d,]+/,!1),publishedTime:R(n.title.accessibility.accessibilityData.label,a),publishedTimeText:n.publishedTimeText&&n.publishedTimeText.simpleText||null,upcomingEventData:n.upcomingEventData&&n.upcomingEventData.startTime||null,timeStatus:n.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer&&n.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer.text.simpleText||null}})}({data:c=n?Object(l.a)({},c,{list:a.data.data[1].response.continuationContents.gridContinuation.items}):Object(l.a)({},c,{list:a.data.data[1].response.contents.twoColumnBrowseResultsRenderer.tabs[1].tabRenderer.content.sectionListRenderer.contents[0].itemSectionRenderer.contents[0].gridRenderer.items}),tag:r}).filter(function(e){if(("show"===r||"legend"===r)&&null!==e.timeStatus&&e.timeStatus.indexOf(":")>-1){var t=0,a=e.timeStatus.match(/(\d+)(?::(\d+))(?::(\d+))/)||e.timeStatus.match(/(\d+)(?::(\d+))/);return 4===a.length&&(t=60*(60*parseInt(a[1])+parseInt(a[2]))+parseInt(a[3])),3===a.length&&(t=60*parseInt(a[1])+parseInt(a[2])),"legend"===r?t>600:t>2400}return null!==e.publishedTime&&null===e.upcomingEventData});return[].concat(t).concat(i).sort(function(e,t){return t.publishedTime-e.publishedTime})},x=function(e,t){var a=t.data.data[1].response.metadata.channelMetadataRenderer.title,n=[{value:t.data.data[1].response.metadata.channelMetadataRenderer.externalId,label:"".concat(e.length+1,". ").concat(a)}];return[].concat(e).concat(n)},D=function(e,t){var a=t.reduce(function(e,t){return e[t.authorId]=t.author,e},{}),n=Object.entries(a).map(function(e,t){return{value:e[0],label:"".concat(t+1,". ").concat(e[1])}});return[].concat(e).concat(n)},w=Object(i.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,fetchingNum:0,y2bData:[],y2bSelect:[],y2bSelected:[],tag:"youtuber"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_REQUEST":case"DATA_REQUEST_NEXT":case"CREATE_REQUEST":return Object(l.a)({},e,{isFetching:!0,fetchingNum:e.fetchingNum+1});case"DATA_SAVE":return Object(l.a)({},e,{isFetching:!1,fetchingNum:e.fetchingNum-1,y2bData:t.data.data,y2bSelect:D(e.y2bSelect,t.data.data)});case"DATA_RECEIVE":return"now"===t.data.data.reload?Object(l.a)({},e,{isFetching:!1,fetchingNum:e.fetchingNum-1}):Object(l.a)({},e,{isFetching:!1,fetchingNum:e.fetchingNum-1,y2bData:O({o:e.y2bData,data:t,tag:e.tag}),y2bSelect:x(e.y2bSelect,t)});case"DATA_RECEIVE_NEXT":return Object(l.a)({},e,{isFetching:!1,fetchingNum:e.fetchingNum-1,y2bData:O({o:e.y2bData,data:t,next:!0,tag:e.tag})});case"CREATE_RECEIVE":return Object(l.a)({},e,{isFetching:!1,fetchingNum:e.fetchingNum-1});case"SET_SELECT":return Object(l.a)({},e,{y2bSelected:t.data});case"CLEAR_DATA":return{isFetching:!1,fetchingNum:0,y2bData:[],y2bSelect:[],y2bSelected:[]};case"CHANGE_TAG":if(t.tagData)return Object(l.a)({},e,{tag:t.tagData.tag});default:return e}}}),I=a(48),N=a(49),j=a(53),_=a(50),k=a(54),U=function(e){var t=e.data;return r.a.createElement("ul",{className:"wrp"},t.map(function(e,t){return r.a.createElement("li",{className:"item",key:e.videoId},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.youtube.com/watch?v=".concat(e.videoId)},r.a.createElement("img",{src:e.img,alt:"aa"}),r.a.createElement("div",{className:"overlay"},r.a.createElement("summary",null,r.a.createElement("h2",null,e.title),r.a.createElement("h3",null,e.author," @(",e.timeStatus,")"),r.a.createElement("h3",null,"\u89c0\u770b\u6b21\u6578\uff1a",e.viewCountText),r.a.createElement("h3",null,e.publishedTimeText)))))}))},F=a(51),G=a.n(F),M=a(52),L=a.n(M),V=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(j.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){(0,a.props.dispatch)({type:"SET_SELECT",data:e.map(function(e){return e.value})})},a.handleCreate=function(e){var t=a.props,n=t.dispatch,r=t.tag;n(C(e,r))},a.handleReload=function(){var e=a.props.dispatch;e(A()),e(y())},a.handleChangeTag=function(e){var t=a.props.dispatch;t(A()),t(y({tag:e}))},a.handleChangeUTag=function(e){var t=a.props.dispatch;t(A()),t(T({tag:e}))},a}return Object(k.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(y())}},{key:"render",value:function(){var e=this,t=this.props,a=t.fetchingNum,n=t.y2bData,c=t.y2bSelect,i=t.y2bSelected,u=n;return i.length>0&&(u=n.filter(function(e){return i.indexOf(e.authorId)>-1})),r.a.createElement("div",null,r.a.createElement(G.a,{placeholder:"\u8acb\u9078\u64c7\u9700\u8981\u7684 Youtuber",options:c,components:L()(),closeMenuOnSelect:!1,isMulti:!0,onChange:this.handleChange,isClearable:!0,onCreateOption:this.handleCreate,isLoading:a>0}),r.a.createElement("div",{className:"btns"},r.a.createElement("button",{disabled:a>0,onClick:this.handleReload},"\u91cd\u6574"),r.a.createElement("button",{disabled:a>0,onClick:function(){return e.handleChangeTag("youtuber")}},"youtuber"),r.a.createElement("button",{disabled:a>0,onClick:function(){return e.handleChangeTag("show")}},"show"),r.a.createElement("button",{disabled:a>0,onClick:function(){return e.handleChangeTag("legend")}},"legend"),r.a.createElement("button",{disabled:a>0,onClick:function(){return e.handleChangeTag("rare")}},"rare")),r.a.createElement(U,{data:u}))}}]),t}(n.Component),Q=Object(u.b)(function(e){var t=e.data;return{y2bData:t.y2bData,y2bSelect:t.y2bSelect,y2bSelected:t.y2bSelected,fetchingNum:t.fetchingNum,tag:t.tag}})(V),Z=(a(117),[o.a]);var H=Object(i.d)(w,i.a.apply(void 0,Z));Object(c.render)(r.a.createElement(u.a,{store:H},r.a.createElement(Q,null)),document.getElementById("root"))},55:function(e,t,a){e.exports=a(119)}},[[55,2,1]]]);
//# sourceMappingURL=main.cd16e00c.chunk.js.map